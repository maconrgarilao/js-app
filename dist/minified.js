// eslint-disable-next-line no-undef
let pokemonRepository=function(){let t=[];function e(e){console.log('pokemon',e),t.push(e)}function o(){return t}function n(t){i(t).then(function(){a(t),console.log(t)})}function i(t){let e=t.detailsUrl;return $.ajax(e).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=[];for(var o=0;o<e.types.length;o++)t.types.push(e.types[o].type.name)}).catch(function(t){console.error(t)})}function a(t){let e=$('.modal-body'),o=$('.modal-title');o.empty(),e.empty();let n=$('<h1>'+t.name+'</h1>'),i=$('<img class="modal-img" style="width:50%">');i.attr('src',t.imageUrl);let a=$(`<p>Height: ${t.height}</p>`),l=$(`<p>Types: ${t.types}</p>`);o.append(n),e.append(i),e.append(a),e.append(l)}return{add:e,getAll:o,addListItem:function t(e){let o=$('.list-group'),i=$(`<button type="button" class="btn btn-primary list-group-item list-group-item-action list-group-item-light" data-toggle="modal" data-target=".modal">${e.name}</button>`);i.addClass('.list-button'),o.append(i),i.on('click',function(){n(e)})},loadList:function t(){return $.ajax('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(t){t.results.forEach(function(t){e({name:t.name.charAt(0).toUpperCase()+t.name.slice(1),detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:i,showDetails:n,showModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});